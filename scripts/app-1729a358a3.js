!function(){"use strict";angular.module("owcast",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngRoute","ui.bootstrap","toastr"])}(),function(){"use strict";function e(){function e(e,a,t,r,n){var c=this;this.counterCastModel=new t,this.handleCharacterSelection=function(e){if(0==e.length)return c.counterCastModel.clearList();var a=n.getMatrixData("default"),t=r.getCounterPlayers(e,a);c.counterCastModel.updateList(t)}}return e.$inject=["$log","toastr","CounterCastList","counterGenerator","counterGeneratorData"],{restrict:"EA",scope:{},controller:e,templateUrl:"app/components/selectionGeneratorView/selectionGeneratorView.html",controllerAs:"sgView"}}angular.module("owcast").directive("selectionGeneratorView",e)}(),function(){"use strict";function e(){function e(e){var a=this;a.relativeDate=e(a.creationDate).fromNow()}e.$inject=["moment"];var a={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return a}angular.module("owcast").directive("acmeNavbar",e)}(),function(){"use strict";function e(){function e(e,a,t){this.allCharacterObjectArray=t.allCharacterObjectArray;var r=e.getMatrixData("default");this.model=new a(r)}return e.$inject=["counterGeneratorData","CounterMatrixModel","characterData"],{restrict:"E",scope:{},controller:e,controllerAs:"ctrMatrixTable",templateUrl:"app/components/counterMatrix/counterMatrixTable.html",bindToController:!0}}angular.module("owcast").directive("counterMatrixTable",e)}(),function(){"use strict";function e(e,a){function t(e){e=angular.copy(e)||{},this.data=this.init(e),this.__data=angular.copy(e)}var r=a.allCharacterIdentifierArray;return t.prototype.init=function(e){return r.forEach(function(a){angular.isUndefined(e[a])&&(e[a]={});var t=e[a];r.forEach(function(e){angular.isUndefined(t[e])&&(t[e]=0)})}),e},t.prototype.__validateCell=function(t,r){return a.allCharacterIdentifierLookup[t]?a.allCharacterIdentifierLookup[r]?!0:(e.warn("Invalid y axis character specified when attempting to access cell: ",r),!1):(e.warn("Invalid x axis character specified when attempting to access cell: ",t),!1)},t.prototype.toggleCell=function(e,a){this.__validateCell(e,a)&&(this.data[e][a]=(this.data[e][a]+2)%3-1)},t.prototype.resetCell=function(e,a){this.__validateCell(e,a)&&(this.data[e][a]=this.__data[e][a])},t.prototype.reset=function(){this.data=angular.copy(this.__data)},t.prototype.save=function(){this.__data=angular.copy(this.data)},t}e.$inject=["$log","characterData"],angular.module("owcast").factory("CounterMatrixModel",e)}(),function(){"use strict";function e(e,a,t,r){function n(){return e.get("app/data/defaultCountersMatrix.json").success(function(e){o["default"]=Object.freeze(e)}).error(function(e){r.error("There seems to be an error loading some necessary data"),a.error("Error loading defaultCountersMatrix.json: ",e)})}function c(){for(var e=t.localStorage,a=0;a<e.length;a++){var r=e.key(a);r.startsWith(i)&&(o[r]=JSON.parse(e.getItem(r)))}}var i=Object.freeze("matrixData."),o={};this.defaultDataPromise=n(),c(),this.getMatrixData=function(e,t){var r=o[e];return r?t?angular.copy(r):r:(a.warn("Attempted to access invalid counter matrix data: ",e),null)},this.setMatrixData=function(e,a){o[e]=Object.freeze(a),t.localStorage.setItem(i+e,JSON.stringify(a))}}e.$inject=["$http","$log","$window","toastr"],angular.module("owcast").service("counterGeneratorData",e)}(),function(){"use strict";function e(){this.getCounterPlayers=function(e,a){function t(t){var r=-1,n=1;return{isWeakAgainst:function(){return this.is(r).against()},isStrongAgainst:function(){return this.is(n).against()},is:function(r){return{against:function(){return e.filter(function(e){return a[t]&&a[t][e]==r})}}}}}var r=Object.keys(a),n=r.map(function(t){var r=e.reduce(function(e,r){var n=a[t]&&a[t][r];return void 0!=n?e+n:e},0);return{name:t,score:r}}),c=n.filter(function(e){return 0!=e.score}).sort(function(e,a){return a.score-e.score});return c.map(function(e){return{hero:e.name,strongAgainst:t(e.name).isStrongAgainst(),weakAgainst:t(e.name).isWeakAgainst(),score:e.score}})}}function a(){function e(e){this.castList=e||[]}return e.prototype.updateList=function(e){this.castList=e},e.prototype.clearList=function(){this.castList=[]},e}angular.module("owcast").service("counterGenerator",e).factory("CounterCastList",a)}(),function(){"use strict";function e(){function e(){}return{restrict:"E",scope:{castModel:"="},templateUrl:"app/components/counterGenerator/counterCastList.html",controller:e,controllerAs:"counterCastList",bindToController:!0}}angular.module("owcast").directive("counterCastList",e)}(),function(){"use strict";function e(e,a){var t=this;this.DEFAULT_GET_PARAM_KEY=Object.freeze("enemyTeam");var r=a.allCharacterObjectArray.reduce(function(e,a){return e[a.name]=0,e},{}),n=[];this.getCharactersSelectedArray=function(){return angular.copy(n)},this.getNumberSelectedCharacters=function(){return n.length},this.getCharacterSelectCount=function(t){return a.allCharacterIdentifierLookup[t]?r[t]:(e.warn("Attempted to get a non-existing character: "+t),null)},this.addCharacter=function(t){return a.allCharacterIdentifierLookup[t]?(n.push(t),r[t]++):e.warn("Attempted to add a non-existing character: "+t)},this.removeCharacter=function(t){if(!a.allCharacterIdentifierLookup[t])return e.warn("Attempted to remove a non-existing character: "+t);var c=r[t];c>0&&(r[t]--,n.splice(n.indexOf(t),1))},this.selectionToGetParams=function(e,a){a=a||t.DEFAULT_GET_PARAM_KEY,e.search(a,n.join(",")||null)},this.getParamsToSelection=function(e,a){a=a||t.DEFAULT_GET_PARAM_KEY;var r=e.search()[a];r=angular.isString(r)?r.split(","):[],r.forEach(function(e){t.addCharacter(e)})}}e.$inject=["$log","characterData"],angular.module("owcast").service("characterSelectionSvc",e)}(),function(){"use strict";function e(){function e(e,a,t,r,n){if(!angular.isFunction(this.onCharacterSelection))throw new Error('Invalid use of characterSelection directive, must provide a "onCharacterSelection" attr for callback.');this.attackChars=n.attackCharacterObjectArray,this.defenseChars=n.defenseCharacterObjectArray,this.tankChars=n.tankCharacterObjectArray,this.supportChars=n.supportCharacterObjectArray,r.getParamsToSelection(a),this.onCharacterSelection(r.getCharactersSelectedArray()),this.addCharacterToSelection=function(e){return 6==r.getNumberSelectedCharacters()?t.error("A team cannot have more than 6 players!"):(r.addCharacter(e),r.selectionToGetParams(a),void this.onCharacterSelection(r.getCharactersSelectedArray()))},this.removeCharacterFromSelection=function(e){r.removeCharacter(e),r.selectionToGetParams(a),this.onCharacterSelection(r.getCharactersSelectedArray())},this.getCharacterSelectCount=r.getCharacterSelectCount}return e.$inject=["$log","$location","toastr","characterSelectionSvc","characterData"],{restrict:"EA",scope:{onCharacterSelection:"="},templateUrl:"app/components/characterSelection/characterSelection.html",controller:e,controllerAs:"charSel",bindToController:!0}}angular.module("owcast").directive("characterSelection",e)}(),function(){"use strict";function e(){this.ATTACK_GROUP=Object.freeze(a),this.DEFENSE_GROUP=Object.freeze(t),this.TANK_GROUP=Object.freeze(r),this.SUPPORT_GROUP=Object.freeze(n),this.attackCharacterObjectArray=Object.freeze(c),this.defenseCharacterObjectArray=Object.freeze(i),this.tankCharacterObjectArray=Object.freeze(o),this.supportCharacterObjectArray=Object.freeze(s),this.allCharacterObjectArray=Object.freeze(l),this.allCharacterIdentifierArray=Object.freeze(u),this.allCharacterIdentifierLookup=Object.freeze(h)}angular.module("owcast").service("characterData",e);var a="attack",t="defense",r="tank",n="support",c=[{name:"genji",displayName:"Genji",group:a,index:0},{name:"mccree",displayName:"McCree",group:a,index:1},{name:"pharah",displayName:"Pharah",group:a,index:2},{name:"reaper",displayName:"Reaper",group:a,index:3},{name:"soldier76",displayName:"Soldier: 76",group:a,index:4},{name:"tracer",displayName:"Tracer",group:a,index:5}],i=[{name:"bastion",displayName:"Bastion",group:t,index:0},{name:"hanzo",displayName:"Hanzo",group:t,index:1},{name:"junkrat",displayName:"Junkrat",group:t,index:2},{name:"mei",displayName:"Mei",group:t,index:3},{name:"torbjorn",displayName:"Torbjörn",group:t,index:4},{name:"widowmaker",displayName:"Widowmaker",group:t,index:5}],o=[{name:"dva",displayName:"D.Va",group:r,index:0},{name:"reinhardt",displayName:"Reinhardt",group:r,index:1},{name:"roadhog",displayName:"Roadhog",group:r,index:2},{name:"winston",displayName:"Winston",group:r,index:3},{name:"zarya",displayName:"Zarya",group:r,index:4}],s=[{name:"lucio",displayName:"Lúcio",group:n,index:0},{name:"mercy",displayName:"Mercy",group:n,index:1},{name:"symmetra",displayName:"Symmetra",group:n,index:2},{name:"zenyatta",displayName:"Zenyatta",group:n,index:3}],l=c.concat(i,o,s),u=[],h=l.reduce(function(e,a){return e[a.name]=!0,u.push(a.name),e},{})}(),function(){"use strict";function e(e,a){var t=this;t.awesomeThings=[],t.classAnimation="",t.creationDate=1467334525945,t.showToastr=showToastr}e.$inject=["$timeout","toastr"],angular.module("owcast").controller("MainController",e)}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("owcast").run(e)}(),function(){"use strict";function e(e,a){a.html5Mode({enabled:!0,requireBase:!1}),e.when("/select",{template:"<selection-generator-view></selection-generator-view>",reloadOnSearch:!1,resolve:{counterGeneratorData:["counterGeneratorData",function(e){return e.defaultDataPromise}]}}).when("/matrixData",{template:"<counter-matrix-table></counter-matrix-table>",resolve:{counterGeneratorData:["counterGeneratorData",function(e){return e.defaultDataPromise}]}}).when("/matrixData/import",{}).otherwise({redirectTo:"/select"})}e.$inject=["$routeProvider","$locationProvider"],angular.module("owcast").config(e)}(),function(){"use strict";angular.module("owcast").constant("malarkey",malarkey).constant("moment",moment)}(),function(){"use strict";function e(e,a){e.debugEnabled(!0),a.allowHtml=!0,a.timeOut=3e3,a.positionClass="toast-top-right",a.preventDuplicates=!1,a.progressBar=!0,a.maxOpened=5}e.$inject=["$logProvider","toastrConfig"],angular.module("owcast").config(e)}(),angular.module("owcast").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class=container><div><acme-navbar creation-date=main.creationDate></acme-navbar></div><div class="jumbotron text-center"><h1>\'Allo, \'Allo!</h1><p class=lead><img src=assets/images/yeoman.png alt="I\'m Yeoman"><br>Always a pleasure scaffolding your apps.</p><p class="animated infinite" ng-class=main.classAnimation><button type=button class="btn btn-lg btn-success" ng-click=main.showToastr()>Splendid Toastr</button></p><p>With ♥ thanks to the contributions of<acme-malarkey extra-values="[\'Yeoman\', \'Gulp\', \'Angular\']"></acme-malarkey></p></div><div class=row><div class="col-sm-6 col-md-4" ng-repeat="awesomeThing in main.awesomeThings | orderBy:\'rank\'"><div class=thumbnail><img class=pull-right ng-src="assets/images/{{ awesomeThing.logo }}" alt="{{ awesomeThing.title }}"><div class=caption><h3>{{ awesomeThing.title }}</h3><p>{{ awesomeThing.description }}</p><p><a ng-href={{awesomeThing.url}}>{{ awesomeThing.url }}</a></p></div></div></div></div></div>'),e.put("app/components/characterSelection/characterSelection.html",'<div><div><h3>Attack Chars</h3><div ng-repeat="char in charSel.attackChars">{{char.displayName}} <span ng-click=charSel.addCharacterToSelection(char.name)>[ + ]</span> <span>[ {{charSel.getCharacterSelectCount(char.name)}} ]</span> <span ng-click=charSel.removeCharacterFromSelection(char.name)>[ - ]</span></div></div><div><h3>Defense Chars</h3><div ng-repeat="char in charSel.defenseChars">{{char.displayName}} <span ng-click=charSel.addCharacterToSelection(char.name)>[ + ]</span> <span>[ {{charSel.getCharacterSelectCount(char.name)}} ]</span> <span ng-click=charSel.removeCharacterFromSelection(char.name)>[ - ]</span></div></div><div><h3>Tank Chars</h3><div ng-repeat="char in charSel.tankChars">{{char.displayName}} <span ng-click=charSel.addCharacterToSelection(char.name)>[ + ]</span> <span>[ {{charSel.getCharacterSelectCount(char.name)}} ]</span> <span ng-click=charSel.removeCharacterFromSelection(char.name)>[ - ]</span></div></div><div><h3>Support Chars</h3><div ng-repeat="char in charSel.supportChars">{{char.displayName}} <span ng-click=charSel.addCharacterToSelection(char.name)>[ + ]</span> <span>[ {{charSel.getCharacterSelectCount(char.name)}} ]</span> <span ng-click=charSel.removeCharacterFromSelection(char.name)>[ - ]</span></div></div></div>'),e.put("app/components/counterGenerator/counterCastList.html",'<div><div ng-repeat="character in counterCastList.castModel.castList">{{character | json}}</div></div>'),e.put("app/components/counterMatrix/counterMatrixTable.html",'<table class="table table-bordered table-hover table-condensed"><thead><tr><th>#</th><!-- We can "bind-once" the following because the characters should never change --><th ng-repeat="c in ::ctrMatrixTable.allCharacterObjectArray">{{::c.displayName}}</th></tr></thead><tbody><tr ng-repeat="yChar in ::ctrMatrixTable.allCharacterObjectArray"><td><strong>{{::yChar.displayName}}</strong></td><td ng-repeat="xChar in ::ctrMatrixTable.allCharacterObjectArray" ng-click="ctrMatrixTable.model.toggleCell(xChar.name, yChar.name)">{{ctrMatrixTable.model.data[xChar.name][yChar.name]}}</td></tr></tbody></table>'),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class=container-fluid><div class=navbar-header><a class=navbar-brand href=https://github.com/Swiip/generator-gulp-angular><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-6><ul class="nav navbar-nav"><li class=active><a ng-href=#>Home</a></li><li><a ng-href=#>About</a></li><li><a ng-href=#>Contact</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav>'),e.put("app/components/selectionGeneratorView/selectionGeneratorView.html","<div class=row><div class=col-md-6><h3>Character Selection</h3><character-selection on-character-selection=sgView.handleCharacterSelection></character-selection></div><div class=col-md-6><h3>Best Counters</h3><counter-cast-list cast-model=sgView.counterCastModel></counter-cast-list></div></div>")}]);
//# sourceMappingURL=../maps/scripts/app-1729a358a3.js.map
